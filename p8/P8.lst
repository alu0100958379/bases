SQL> CREATE TABLE TITULACION
  2  (T CHAR(5) PRIMARY KEY, FAC VARCHAR2(60));
CREATE TABLE TITULACION
             *
ERROR at line 1:
ORA-00955: name is already used by an existing object 


SQL> SELECT *
  2  FROM TITULACION;

T      FAC                                                                                                                                                                                              
------ ------------------------------                                                                                                                                                                   
GF     Facultad de Fisica                                                                                                                                                                               
GM     Facultad de Matematicas                                                                                                                                                                          
GII    Facultad de Informatica                                                                                                                                                                          
MII    Facultad de Informatica                                                                                                                                                                          

SQL> SELECT *
  2  FROM VISTA1;
FROM VISTA1
     *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> DROP TABLE TITULACION;

Table dropped.

SQL> SELECT *
  2  FROM TITULACION;
FROM TITULACION
     *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> CREATE TABLE TITULACION
  2  (T CHAR(5) PRIMARY KEY, FAC VARCHAR2(60));

Table created.

SQL> INSERT INTO TITULACION (T)
  2  SELECT DISTINCT T
  3  FROM ASIGNATURA;

4 rows created.

SQL> SELECT *
  2  FROM TITULACION;

T     FAC                                                                                                                                                                                               
----- ------------------------------------------------------------                                                                                                                                      
GF                                                                                                                                                                                                      
GM                                                                                                                                                                                                      
GII                                                                                                                                                                                                     
MII                                                                                                                                                                                                     

SQL> UPDATE TITULACION
  2  SET FAC='Facultad de Informatica'
  3  WHERE T='GF' OR T='GII';

2 rows updated.

SQL> UPDATE TITULACION
  2  SET FAC='Facultad de Biologia'
  3  WHERE T='GM' OR T='MII';

2 rows updated.

SQL> CREATE SYNONYM TIT FOR TITULACION;
CREATE SYNONYM TIT FOR TITULACION
               *
ERROR at line 1:
ORA-00955: name is already used by an existing object 


SQL> DELETE SYNONYM TIT;
DELETE SYNONYM TIT
       *
ERROR at line 1:
ORA-00903: invalid table name 


SQL> DROP SYNONYM TIT;

Synonym dropped.

SQL> CREATE SYNONYM TIT FOR TITULACION;

Synonym created.

SQL> SELECT *
  2  FROM TIT;

T     FAC                                                                                                                                                                                               
----- ------------------------------------------------------------                                                                                                                                      
GF    Facultad de Informatica                                                                                                                                                                           
GM    Facultad de Biologia                                                                                                                                                                              
GII   Facultad de Informatica                                                                                                                                                                           
MII   Facultad de Biologia                                                                                                                                                                              

SQL> ALTER TABLE ASIGNATURA
  2  MODIFY(T CHAR(5) CONSTRAINT
  3  FK_ASIGNATURA_TITULACION REFERENCES TITULACION ON
  4  DELETE CASCADE);

Table altered.

SQL> ALTER TABLE TITULACION
  2  MODIFY (T CHAR(7));
ALTER TABLE TITULACION
*
ERROR at line 1:
ORA-02292: integrity constraint (ALU0100958379.FK_ASIGNATURA_TITULACION) violated - child record found 


SQL> ALTER TABLE TITULACION
  2  MODIFY (T CHAR(6));
ALTER TABLE TITULACION
*
ERROR at line 1:
ORA-02292: integrity constraint (ALU0100958379.FK_ASIGNATURA_TITULACION) violated - child record found 


SQL> ALTER TABLE ASIGNATURA
  2  MODIFY(T CHAR(7));
ALTER TABLE ASIGNATURA
*
ERROR at line 1:
ORA-02291: integrity constraint (ALU0100958379.FK_ASIGNATURA_TITULACION) violated - parent key not found 


SQL> ALTER TABLE TITULACION
  2  MODIFY (T CHAR(7));
ALTER TABLE TITULACION
*
ERROR at line 1:
ORA-02292: integrity constraint (ALU0100958379.FK_ASIGNATURA_TITULACION) violated - child record found 


SQL> CREATE VIEW VISTA1
  2  AS (SELECT CAS,A,T,CUR,CAR
  3  FROM ASIGNATURA);

View created.

SQL> SELECT *
  2  FROM VISTA1;

       CAS A                                                  T            CUR        CAR                                                                                                               
---------- -------------------------------------------------- ----- ---------- ----------                                                                                                               
         1 Bases de datos                                     GII            3          7                                                                                                               
         2 Inteligencia Artificial                            GII            3          4                                                                                                               
         3 Almacenes de datos                                 MII            1          7                                                                                                               
         4 Mineria de datos                                   MII            1          7                                                                                                               
         5 Informatica Basica                                 GII            1          7                                                                                                               
         6 Algebra                                            GII            1          1                                                                                                               
         7 Calculo                                            GII            1          8                                                                                                               
         8 Optimizacion                                       GII            1          6                                                                                                               
         9 Gestion de riesgos                                 GII            3          4                                                                                                               
        10 Astronomia                                         GF             2          3                                                                                                               
        11 Ensenanza de la matematica                         GM             2          5                                                                                                               
        12 Analisis completo                                  GM             4          2                                                                                                               

12 rows selected.

SQL> INSERT INTO VISTA1
  2  VALUES(13,'Estadistica','GII',3,7);

1 row created.

SQL> SELECT *
  2  FROM VISTA1;

       CAS A                                                  T            CUR        CAR                                                                                                               
---------- -------------------------------------------------- ----- ---------- ----------                                                                                                               
        13 Estadistica                                        GII            3          7                                                                                                               
         1 Bases de datos                                     GII            3          7                                                                                                               
         2 Inteligencia Artificial                            GII            3          4                                                                                                               
         3 Almacenes de datos                                 MII            1          7                                                                                                               
         4 Mineria de datos                                   MII            1          7                                                                                                               
         5 Informatica Basica                                 GII            1          7                                                                                                               
         6 Algebra                                            GII            1          1                                                                                                               
         7 Calculo                                            GII            1          8                                                                                                               
         8 Optimizacion                                       GII            1          6                                                                                                               
         9 Gestion de riesgos                                 GII            3          4                                                                                                               
        10 Astronomia                                         GF             2          3                                                                                                               
        11 Ensenanza de la matematica                         GM             2          5                                                                                                               
        12 Analisis completo                                  GM             4          2                                                                                                               

13 rows selected.

SQL> SELECT *
  2  FROM ASIGNATURA;

       CAS A                                                  T            CUR        CAR         CT         CP         CL                                                                              
---------- -------------------------------------------------- ----- ---------- ---------- ---------- ---------- ----------                                                                              
        13 Estadistica                                        GII            3          7          0          0          0                                                                              
         1 Bases de datos                                     GII            3          7          3        1.5        1.5                                                                              
         2 Inteligencia Artificial                            GII            3          4        1.5        1.5          3                                                                              
         3 Almacenes de datos                                 MII            1          7        1.5          0        1.5                                                                              
         4 Mineria de datos                                   MII            1          7        1.5          0        1.5                                                                              
         5 Informatica Basica                                 GII            1          7          3        1.5        1.5                                                                              
         6 Algebra                                            GII            1          1          3          3          0                                                                              
         7 Calculo                                            GII            1          8          3          3          0                                                                              
         8 Optimizacion                                       GII            1          6          3        1.5        1.5                                                                              
         9 Gestion de riesgos                                 GII            3          4          3          0          3                                                                              
        10 Astronomia                                         GF             2          3          3        1.5        1.5                                                                              
        11 Ensenanza de la matematica                         GM             2          5          6          0          0                                                                              
        12 Analisis completo                                  GM             4          2        4.5          3          0                                                                              

13 rows selected.

SQL> UPDATE VISTA1
  2  SET CAR=6
  3  WHERE CAS=13;

1 row updated.

SQL> SELECT *
  2  FROM VISTA1;

       CAS A                                                  T            CUR        CAR                                                                                                               
---------- -------------------------------------------------- ----- ---------- ----------                                                                                                               
        13 Estadistica                                        GII            3          6                                                                                                               
         1 Bases de datos                                     GII            3          7                                                                                                               
         2 Inteligencia Artificial                            GII            3          4                                                                                                               
         3 Almacenes de datos                                 MII            1          7                                                                                                               
         4 Mineria de datos                                   MII            1          7                                                                                                               
         5 Informatica Basica                                 GII            1          7                                                                                                               
         6 Algebra                                            GII            1          1                                                                                                               
         7 Calculo                                            GII            1          8                                                                                                               
         8 Optimizacion                                       GII            1          6                                                                                                               
         9 Gestion de riesgos                                 GII            3          4                                                                                                               
        10 Astronomia                                         GF             2          3                                                                                                               
        11 Ensenanza de la matematica                         GM             2          5                                                                                                               
        12 Analisis completo                                  GM             4          2                                                                                                               

13 rows selected.

SQL> SELECT *
  2  FROM ASIGNATURA;

       CAS A                                                  T            CUR        CAR         CT         CP         CL                                                                              
---------- -------------------------------------------------- ----- ---------- ---------- ---------- ---------- ----------                                                                              
        13 Estadistica                                        GII            3          6          0          0          0                                                                              
         1 Bases de datos                                     GII            3          7          3        1.5        1.5                                                                              
         2 Inteligencia Artificial                            GII            3          4        1.5        1.5          3                                                                              
         3 Almacenes de datos                                 MII            1          7        1.5          0        1.5                                                                              
         4 Mineria de datos                                   MII            1          7        1.5          0        1.5                                                                              
         5 Informatica Basica                                 GII            1          7          3        1.5        1.5                                                                              
         6 Algebra                                            GII            1          1          3          3          0                                                                              
         7 Calculo                                            GII            1          8          3          3          0                                                                              
         8 Optimizacion                                       GII            1          6          3        1.5        1.5                                                                              
         9 Gestion de riesgos                                 GII            3          4          3          0          3                                                                              
        10 Astronomia                                         GF             2          3          3        1.5        1.5                                                                              
        11 Ensenanza de la matematica                         GM             2          5          6          0          0                                                                              
        12 Analisis completo                                  GM             4          2        4.5          3          0                                                                              

13 rows selected.

SQL> CREATE VIEW VISTA2
  2  AS (SELECT DNI,A,T,CUR,CAR
  3  FROM PLAN_DOCENTE NATURAL JOIN VISTA1;
FROM PLAN_DOCENTE NATURAL JOIN VISTA1
                                    *
ERROR at line 3:
ORA-00907: missing right parenthesis 


SQL> CREATE VIEW VISTA2
  2  AS (SELECT DNI,A,T,CUR,CAR
  3  FROM PLAN_DOCENTE NATURAL JOIN VISTA1);

View created.

SQL> SELECT *
  2  FROM VISTA2;

       DNI A                                                  T            CUR        CAR                                                                                                               
---------- -------------------------------------------------- ----- ---------- ----------                                                                                                               
      4444 Bases de datos                                     GII            3          7                                                                                                               
      3333 Inteligencia Artificial                            GII            3          4                                                                                                               
      1010 Inteligencia Artificial                            GII            3          4                                                                                                               
      2222 Almacenes de datos                                 MII            1          7                                                                                                               
      2020 Almacenes de datos                                 MII            1          7                                                                                                               
      4444 Mineria de datos                                   MII            1          7                                                                                                               
      2222 Mineria de datos                                   MII            1          7                                                                                                               
      4444 Informatica Basica                                 GII            1          7                                                                                                               
      5555 Algebra                                            GII            1          1                                                                                                               
      9999 Calculo                                            GII            1          8                                                                                                               
      3030 Optimizacion                                       GII            1          6                                                                                                               
      1111 Optimizacion                                       GII            1          6                                                                                                               
      1111 Optimizacion                                       GII            1          6                                                                                                               
      3333 Gestion de riesgos                                 GII            3          4                                                                                                               
      1010 Gestion de riesgos                                 GII            3          4                                                                                                               
      1010 Gestion de riesgos                                 GII            3          4                                                                                                               
      6666 Astronomia                                         GF             2          3                                                                                                               
      8888 Ensenanza de la matematica                         GM             2          5                                                                                                               
      7777 Analisis completo                                  GM             4          2                                                                                                               

19 rows selected.

SQL> UPDATE VISTA2
  2  SET A='Bases de datos2'
  3  WHERE DNI=4444;
SET A='Bases de datos2'
    *
ERROR at line 2:
ORA-01779: cannot modify a column which maps to a non key-preserved table 


SQL> 
SQL> FROM INFORMATION_SCHEMA.VISTA2;
SP2-0734: unknown command beginning "FROM INFOR..." - rest of line ignored.
SQL> SELECT *
  2  FROM INFORMATION_SCHEMA.VISTA2;
FROM INFORMATION_SCHEMA.VISTA2
                        *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> SELECT *
  2  FROM VISTA2;

       DNI A                                                  T            CUR        CAR                                                                                                               
---------- -------------------------------------------------- ----- ---------- ----------                                                                                                               
      4444 Bases de datos                                     GII            3          7                                                                                                               
      3333 Inteligencia Artificial                            GII            3          4                                                                                                               
      1010 Inteligencia Artificial                            GII            3          4                                                                                                               
      2222 Almacenes de datos                                 MII            1          7                                                                                                               
      2020 Almacenes de datos                                 MII            1          7                                                                                                               
      4444 Mineria de datos                                   MII            1          7                                                                                                               
      2222 Mineria de datos                                   MII            1          7                                                                                                               
      4444 Informatica Basica                                 GII            1          7                                                                                                               
      5555 Algebra                                            GII            1          1                                                                                                               
      9999 Calculo                                            GII            1          8                                                                                                               
      3030 Optimizacion                                       GII            1          6                                                                                                               
      1111 Optimizacion                                       GII            1          6                                                                                                               
      1111 Optimizacion                                       GII            1          6                                                                                                               
      3333 Gestion de riesgos                                 GII            3          4                                                                                                               
      1010 Gestion de riesgos                                 GII            3          4                                                                                                               
      1010 Gestion de riesgos                                 GII            3          4                                                                                                               
      6666 Astronomia                                         GF             2          3                                                                                                               
      8888 Ensenanza de la matematica                         GM             2          5                                                                                                               
      7777 Analisis completo                                  GM             4          2                                                                                                               

19 rows selected.

SQL> SELECT *
  2  FROM INFORMATION_SCHEMA.VISTA2;
FROM INFORMATION_SCHEMA.VISTA2
                        *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> DROP VIEW VISTA1;

View dropped.

SQL> SELECT *
  2  FROM VISTA2;
FROM VISTA2
     *
ERROR at line 2:
ORA-04063: view "ALU0100958379.VISTA2" has errors 


SQL> ROLLBACK;

Rollback complete.

SQL> SELECT *
  2  FROM VISTA1;
FROM VISTA1
     *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> CREATE INDEX INDICE1
  2  ON PROFESOR(P);

Index created.

SQL> SELECT DNI
  2  FROM PROFESOR
  3  WHERE P='Juan';

       DNI                                                                                                                                                                                              
----------                                                                                                                                                                                              
      1111                                                                                                                                                                                              

SQL> DROP INDEX INDICE1
  2  ;

Index dropped.

SQL> CREATE INDEX INDICE2
  2  ON VISTA1(CAR);
ON VISTA1(CAR)
   *
ERROR at line 2:
ORA-00942: table or view does not exist 


SQL> GRANT SELECT ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON AREA TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON ASIGNATURA TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON TITULACION TO alumno;

Grant succeeded.

SQL> GRANT INSERT ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT INSERT ON AREA TO alumno;

Grant succeeded.

SQL> GRANT DELETE ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT DELETE ON AREA TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON AREA TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON ASIGNATURA TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON TITULACION TO alumno;

Grant succeeded.

SQL> COMMIT WORK;

Commit complete.

SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


Warning: You are no longer connected to ORACLE.
SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> SPOOL OFF
